<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="datasource.js"></script>
    <link rel="stylesheet" href="">
    <style>
      .chart{
        width: 800px;
        height: 600px;
      }
    </style>
  </head>
  <body>
    <div>
        <div id="chart2" class="chart">

        </div>
      <div id="chart1" class="chart">

      </div>


    </div>
    <script type="module">
    import { Chart } from "./index.js"
    (function(){
      var pattern = {
          dataSource: {
            // touchTop: true,
            data: window.fake_data,
            timeIndex: 0,
            series: [
              {name: '分时图', type: 'linear', valIndex: 2},
              // {name: '均线', type: 'line', t: 0, valIndex: 9, color: 'orange', lineWidth: 1},

              // column can use baseVal or baseIndex to detect a value(it's a array) should be up or down
              // all value will compare with baseVal if provided
              // if no baseVal is provide, baseIndex for inner compare
              // example for baseIndex : data Like [1480464000000, 1.0647, 1.0648, 1.066, 1.0646, 0.001, 0.001, 0.001, 1.0648, 1.0640399999999999], 1.0647 stand for opening-price & 1.0648 stand for close-price
              // we can set valIndex as 2 and  the baseIndex as 1, so each data will compare it's close with it's opening
              // if all the set not good enough you can use detect function to define it your self
              {name: '均线', type: 'column', valIndex: 2, color:
              {
                up: '#FF4040',
                down: '#1EB955',
                // detect(item, index, pane, paneIndex, panes) {
                //   // function provide for detect a value should be up or down
                //   return item[2] >= pane[0][2] ? 'up' : 'down'
                // }
              }, baseIndex: 9, lineWidth: 5, mode:'bidirection'}
            ],
            timeRanges: [[1479931200 * 1000, 1479970800 * 1000],
                          [1482148800 * 1000, 1482552000 * 1000]],
            // timeRangesRatio: [0.2, 0.8],
            baseValue: 1.06
          }
        };

        var chart = new Chart(document.getElementById('chart1'), pattern)

        var pattern2 = {
          dataSource: {
            data: window.fake_data,
            timeIndex: 0,
            series: [
              // {name: '分时图', type: 'line', valIndex: 2},
              {name: 'K线', type: 'candlestick', o: 1, c: 2, h: 3, l: 4},
              // {name: 'K线', type: 'candlestick', as: 'mountain', t: 0, o: 1, c: 2, h: 3, l: 4}, // 这句可以显示山型线
              {name: '均线', type: 'line', valIndex: 9, color: 'teal', lineWidth: 1}
            ]
          }
        };

        var chart2 = new Chart(document.getElementById('chart2'), pattern2)
        console.log(chart)
    })()
    </script>
  </body>
</html>
